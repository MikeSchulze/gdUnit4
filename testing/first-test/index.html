<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/gdUnit4/assets/css/just-the-docs-default.css"> <script src="/gdUnit4/assets/js/vendor/lunr.min.js"></script> <script src="/gdUnit4/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Unit Tests | GdUnit4</title> <meta name="generator" content="Jekyll v3.9.5" /> <meta property="og:title" content="Unit Tests" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Unit Test" /> <meta property="og:description" content="Unit Test" /> <meta property="og:site_name" content="GdUnit4" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Unit Tests" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Unit Test","headline":"Unit Tests","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/gdUnit4/assets/images/logo.png"}},"url":"/gdUnit4/testing/first-test/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/gdUnit4/" class="site-title lh-tight"><div class="site-logo"></div> GdUnit4</a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/gdUnit4/example.html" class="nav-list-link">Basic Test Example</a></li></ul> <div class="nav-category">First Steps</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/first_steps/install/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/getting-started/" class="nav-list-link">Getting Started with GDScript Tests</a></li></ul> <div class="nav-category">C# Project Setup</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/csharp_project_setup/csharp-setup/" class="nav-list-link">Setup/Installation</a></li><li class="nav-list-item"><a href="/gdUnit4/csharp_project_setup/vstest-adapter/" class="nav-list-link">Configure Your IDE</a></li></ul> <div class="nav-category">Testing</div> <ul class="nav-list"><li class="nav-list-item active"><a href="/gdUnit4/testing/first-test/" class="nav-list-link active">Unit Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/testing/integration-testing/" class="nav-list-link">Integration Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/testing/hooks/" class="nav-list-link">Test Setup/Teardown</a></li><li class="nav-list-item"><a href="/gdUnit4/testing/run-tests/" class="nav-list-link">How To Run Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/testing/skip-tests/" class="nav-list-link">How To Skip Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/testing/flaky-tests/" class="nav-list-link">Flaky Tests</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Asserts category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/gdUnit4/testing/assert/" class="nav-list-link">Asserts</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/testing/assert-that/" class="nav-list-link">AssertThat</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-array/" class="nav-list-link">Array Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-bool/" class="nav-list-link">Boolean Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-dictionary/" class="nav-list-link">Dictionary Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-error/" class="nav-list-link">Error/Exception Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-file/" class="nav-list-link">File Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-float/" class="nav-list-link">Float/Double Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-function/" class="nav-list-link">Function/Method Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-integer/" class="nav-list-link">Integer Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-number/" class="nav-list-link">Number Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-object/" class="nav-list-link">Object Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-signal/" class="nav-list-link">Signal Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-string/" class="nav-list-link">String Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/testing/assert-vector/" class="nav-list-link">Vector Assert</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Advanced Testing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/gdUnit4/advanced_testing/index/" class="nav-list-link">Advanced Testing</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/tools/" class="nav-list-link">Tools and Helpers</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/fuzzing/" class="nav-list-link">Fuzzing</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/paramerized_tests/" class="nav-list-link">Parameterized Tests</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/mock/" class="nav-list-link">Mocking</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/signals/" class="nav-list-link">Signals</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/spy/" class="nav-list-link">Spying</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/argument_matchers/" class="nav-list-link">Argument Matchers</a></li><li class="nav-list-item "><button class="nav-list-expander btn-reset" aria-label="toggle items in Scene Runner category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/gdUnit4/advanced_testing/sceneRunner/" class="nav-list-link">Scene Runner</a><ul class="nav-list"><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/actions/" class="nav-list-link">Actions</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/keys/" class="nav-list-link">Key Inputs</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/mouse/" class="nav-list-link">Mouse Inputs</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/touchscreen/" class="nav-list-link">Touchscreen Inputs</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/sync_inputs/" class="nav-list-link">Synchronize Inputs</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/signals/" class="nav-list-link">Signals</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/functions/" class="nav-list-link">Functions</a> </li><li class="nav-list-item "> <a href="/gdUnit4/advanced_testing/scene_runner/accessors/" class="nav-list-link">Accessors</a> </li></ul></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/orphan/" class="nav-list-link">Orphan Nodes</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/cmd/" class="nav-list-link">Command Line Tool</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorials category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/gdUnit4/tutorials/index/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/tutorials/tdd/" class="nav-list-link">Test Driven Development</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/scenerunner_examples/" class="nav-list-link">Testing Scene Interactions</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/tutorial_basics/" class="nav-list-link">Basics</a></li></ul></li></ul> <div class="nav-category">FAQ</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/faq/ci/" class="nav-list-link">Continuous Integration Testing</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/solutions/" class="nav-list-link">Problems & Solutions</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GdUnit4" aria-label="Search GdUnit4" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/MikeSchulze/gdUnit4" class="site-button" target="_blank" rel="noopener noreferrer" > GdUnit4 on GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="unit-test"> <a href="#unit-test" class="anchor-heading" aria-labelledby="unit-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unit Test </h1> <p>What is Unit Testing? Unit testing is a fundamental practice in software development that involves testing individual components or “units” of your code to ensure they work as expected in isolation. In game development, a unit typically refers to a small piece of functionality, such as a single function, method, or class. The goal of unit testing is to verify that each unit of your code performs its intended task correctly and to catch bugs early in the development process.</p> <h2 id="key-characteristics-of-unit-testing"> <a href="#key-characteristics-of-unit-testing" class="anchor-heading" aria-labelledby="key-characteristics-of-unit-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Key Characteristics of Unit Testing </h2> <ul> <li><strong>Isolation:</strong> Each test targets a specific piece of code, independent of other parts of the system. This isolation helps identify which component is responsible for any given issue.</li> <li><strong>Automated:</strong> Unit tests are usually automated, allowing developers to run them frequently, quickly, and consistently. This automation is especially useful for catching regressions after changes are made to the codebase.</li> <li><strong>Fast and Focused:</strong> Unit tests should be small and fast to execute, focusing on a single “unit” of functionality. This makes them ideal for verifying specific behaviors, such as a character’s movement logic or a function that calculates in-game scores.</li> </ul> <h2 id="benefits-of-unit-testing"> <a href="#benefits-of-unit-testing" class="anchor-heading" aria-labelledby="benefits-of-unit-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Benefits of Unit Testing </h2> <ul> <li><strong>Early Bug Detection:</strong> By testing individual components, you can detect and fix bugs early in the development cycle before they affect other parts of your game. Improved Code Quality:** Writing unit tests encourages developers to write modular, maintainable, and well-documented code. It also helps ensure that each unit of functionality behaves as intended.</li> <li><strong>Refactoring Confidence:</strong> Unit tests act as a safety net when refactoring or optimizing code. If all tests pass after changes are made, you can be confident that your updates haven’t introduced new bugs.</li> <li><strong>Documentation:</strong> Unit tests serve as a form of documentation by demonstrating how specific functions or classes are intended to be used, making it easier for other developers to understand the codebase.</li> </ul> <h2 id="writing-unit-tests-in-game-development"> <a href="#writing-unit-tests-in-game-development" class="anchor-heading" aria-labelledby="writing-unit-tests-in-game-development"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Writing Unit Tests in Game Development </h2> <p>In the context of game development, unit tests can be used to verify:</p> <ul> <li><strong>Game Logic:</strong> Testing rules and mechanics, such as character health calculations, score updates, or level progression.</li> <li><strong>Math Functions:</strong> Verifying mathematical calculations, such as physics equations or vector operations.</li> <li><strong>Utility Functions:</strong> Testing helper functions that perform operations like data parsing, string manipulation, or AI decision-making.</li> <li><strong>State Management:</strong> Ensuring that game states (e.g., paused, active, game-over) transition correctly and behave as expected.</li> </ul> <h2 id="gdunit4-testcase-definition"> <a href="#gdunit4-testcase-definition" class="anchor-heading" aria-labelledby="gdunit4-testcase-definition"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GdUnit4 TestCase Definition </h2> <p>Test cases are essential in software testing because they provide a way to ensure that the software is working as intended and meets the requirements and specifications of the project. By executing a set of test cases, testers can identify and report any defects or issues in the software, which can then be addressed by the development team.<br /> A test is defined as a function that follows the pattern <strong>test_</strong><strong><em>name</em></strong>(<em>[arguments]</em>) -&gt; <em>void</em>. The function name must start with the prefix <strong>test_</strong> to be identified as a test. You can choose any name for the <strong><em>name</em></strong> part, but it should correspond to the function being tested. Test <em>[arguments]</em> are optional and will be explained later in the advanced testing section.<br /> When naming your tests, use a descriptive name that accurately represents what the test does.</p><hr /> <h2 id="single-testcase"> <a href="#single-testcase" class="anchor-heading" aria-labelledby="single-testcase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Single TestCase </h2> <ul id="faq-test-case-name" class="tab" data-tab="65ee75cc-5363-40e3-a03f-c920d1926206" data-name="faq-test-case-name"> <li class="active" id="faq-test-case-name-gdscript"> <a href="#">GdScript </a> </li> <li id="faq-test-case-name-c-"> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="65ee75cc-5363-40e3-a03f-c920d1926206" data-name="faq-test-case-name"> <li class="active"> <p>To define a TestCase you have to use the prefix <code class="language-plaintext highlighter-rouge">test_</code> e.g. <code class="language-plaintext highlighter-rouge">test_verify_is_string</code><br /></p> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">extends</span> <span class="n">GdUnitTestSuite</span>

<span class="k">func</span> <span class="nf">test_string_to_lower</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">void</span><span class="p">:</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="s2">"AbcD"</span><span class="o">.</span><span class="n">to_lower</span><span class="p">())</span><span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">)</span>
</code></pre></div></div> <p>We named it <strong>test_<em>string_to_lower()</em></strong> because we test the <code class="language-plaintext highlighter-rouge">to_lower</code> function on a string.<br /></p> </li> <li> <p>Use the <strong>[TestCase]</strong> attribute to define a method as a TestCase.</p> <div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">Examples</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">GdUnit4</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">static</span> <span class="n">GdUnit4</span><span class="p">.</span><span class="n">Assertions</span><span class="p">;</span>

<span class="p">[</span><span class="n">TestSuite</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">GdUnitExampleTest</span>
<span class="p">{</span>
   <span class="p">[</span><span class="n">TestCase</span><span class="p">]</span>
   <span class="k">public</span> <span class="k">void</span> <span class="nf">StringToLower</span><span class="p">()</span> <span class="p">{</span>
      <span class="nf">AssertString</span><span class="p">(</span><span class="s">"AbcD"</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">()).</span><span class="nf">IsEqual</span><span class="p">(</span><span class="s">"abcd"</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>We named it <strong>StringToLower()</strong> because we test the <code class="language-plaintext highlighter-rouge">ToLower</code> function on a string.<br /></p> </li> </ul> <h2 id="using-parameterized-testcases"> <a href="#using-parameterized-testcases" class="anchor-heading" aria-labelledby="using-parameterized-testcases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Parameterized TestCases </h2> <p>See <a href="/gdUnit4/advanced_testing/paramerized_tests/#testing-with-parameterized-testcases">Testing with Parameterized TestCases</a><br /></p> <h2 id="using-fuzzers-on-tests"> <a href="#using-fuzzers-on-tests" class="anchor-heading" aria-labelledby="using-fuzzers-on-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Fuzzers on Tests </h2> <p>See <a href="/gdUnit4/advanced_testing/fuzzing/#testing-with-fuzzers">Testing with Fuzzers</a><br /></p> <h2 id="testcase-parameters"> <a href="#testcase-parameters" class="anchor-heading" aria-labelledby="testcase-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TestCase Parameters </h2> <p>GdUnit allows you to define additional test parameters to have more control over the test execution.</p> <ul id="faq-test-case-attr" class="tab" data-tab="25286762-97ec-4b9f-bcbe-af4037884585" data-name="faq-test-case-attr"> <li class="active" id="faq-test-case-attr-gdscript"> <a href="#">GdScript </a> </li> <li id="faq-test-case-attr-c-"> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="25286762-97ec-4b9f-bcbe-af4037884585" data-name="faq-test-case-attr"> <li class="active"> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>timeout</td> <td>Defines a custom timeout in milliseconds. By default, a TestCase will be interrupted after 5 minutes if the tests are not finished.</td> </tr> <tr> <td>do_skip</td> <td>Set to ‘true’ to skip the test. Conditional expressions are supported.</td> </tr> <tr> <td>skip_reason</td> <td>Adds a comment why you want to skip this test.</td> </tr> <tr> <td>fuzzer</td> <td>Defines a fuzzer to provide test data.</td> </tr> <tr> <td>fuzzer_iterations</td> <td>Defines the number of times a TestCase will be run using the fuzzer.</td> </tr> <tr> <td>fuzzer_seed</td> <td>Defines a seed used by the fuzzer.</td> </tr> <tr> <td>test_parameters</td> <td>Defines the TestCase dataset for parameterized tests.</td> </tr> </tbody> </table></div> </li> <li> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Timeout</td> <td>Defines a custom timeout in milliseconds. By default, a TestCase will be interrupted after 5 minutes if the tests are not finished.</td> </tr> <tr> <td>TestName</td> <td>Defines a custom TestCase name.</td> </tr> <tr> <td>Seed</td> <td>Defines a seed to provide test data.</td> </tr> </tbody> </table></div> </li> </ul> <h3 id="timeout"> <a href="#timeout" class="anchor-heading" aria-labelledby="timeout"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> timeout </h3> <p>The <strong>timeout</strong> paramater sets the duration in milliseconds before a test case is interrupted. By default, a test case will be interrupted after 5 minutes if it has not finished executing. You can customize the default timeout value in the <a href="/gdUnit4/first_steps/settings/#test-timeout-seconds">GdUnit Settings</a>. A test case that is interrupted by a timeout is marked and reported as a failure.</p> <ul id="faq-test-case-attr-timeout" class="tab" data-tab="a00bc872-9170-4904-bb20-34ac632e8342" data-name="faq-test-case-attr-timeout"> <li class="active" id="faq-test-case-attr-timeout-gdscript"> <a href="#">GdScript </a> </li> <li id="faq-test-case-attr-timeout-c-"> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="a00bc872-9170-4904-bb20-34ac632e8342" data-name="faq-test-case-attr-timeout"> <li class="active"> <p>Sets the test execution timeout to 2s.</p> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="nf">test_with_timeout</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span>
   <span class="o">...</span>
</code></pre></div></div> </li> <li> <p>Sets the test execution timeout to 2s.</p> <div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nf">TestCase</span><span class="p">(</span><span class="n">Timeout</span> <span class="p">=</span> <span class="m">2000</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">ATestWithTimeout</span><span class="p">()</span>
<span class="p">{</span>
   <span class="p">...</span>
</code></pre></div></div> </li> </ul> <h3 id="fuzzer-parameters"> <a href="#fuzzer-parameters" class="anchor-heading" aria-labelledby="fuzzer-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> fuzzer parameters </h3> <p>To learn how to use the fuzzer parameter, please refer to the <a href="/gdUnit4/advanced_testing/fuzzing/#using-fuzzers">Using Fuzzers</a> section</p> <h3 id="test_parameters"> <a href="#test_parameters" class="anchor-heading" aria-labelledby="test_parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> test_parameters </h3> <p>To learn how to use parameterized tests, please refer to the <a href="/gdUnit4/advanced_testing/paramerized_tests/#testing-with-parameterized-testcases">Parameterized TestCases</a> section</p><hr /> <h2 id="multiple-assertions-fail-fast"> <a href="#multiple-assertions-fail-fast" class="anchor-heading" aria-labelledby="multiple-assertions-fail-fast"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> When to Use Fail Fast with Multiple Assertions </h2> <div class="advice-header"> <img style="vertical-align:middle;" src="\gdUnit4\assets\images\icons\info-32x32.png" /> <span>Advice</span> <div class="advice-content"> Since GdScript does not have exceptions, we need to manually define an exit strategy to fail fast and avoid unnecessary test execution. </div> </div> <p>When you have multiple assertions in a single test case, it’s important to consider using fail fast techniques to avoid unnecessary test execution and get clearer failure reports.</p> <h3 id="why-use-fail-fast"> <a href="#why-use-fail-fast" class="anchor-heading" aria-labelledby="why-use-fail-fast"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Why Use Fail Fast? </h3> <p>By default, GdUnit4 will continue executing all assertions in a test case even after one fails. While this can provide comprehensive feedback about all failing conditions, it can also lead to:</p> <ul> <li><strong>Cascading failures</strong>: Later assertions may fail because earlier ones didn’t establish the expected state</li> <li><strong>Misleading error messages</strong>: Subsequent failures might not represent real issues but rather consequences of the first failure</li> <li><strong>Debugger interruptions</strong>: In debug mode, accessing properties on null objects will cause the debugger to break with runtime errors, stopping test execution unexpectedly</li> <li><strong>Longer execution time</strong>: Unnecessary processing when the test has already failed</li> <li><strong>Cluttered output</strong>: Multiple failure messages when only the first one is relevant</li> </ul> <h3 id="example-without-fail-fast"> <a href="#example-without-fail-fast" class="anchor-heading" aria-labelledby="example-without-fail-fast"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Without Fail Fast </h3> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="nf">test_player_setup</span><span class="p">():</span>
    <span class="k">var</span> <span class="n">player</span> <span class="o">=</span> <span class="n">create_player</span><span class="p">()</span>
    
    <span class="c1"># If this fails, the following assertions may not make sense</span>
    <span class="n">assert_object</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="o">.</span><span class="n">is_not_null</span><span class="p">()</span>
    
    <span class="c1"># In debug mode: debugger will break here with null reference error if player is null</span>
    <span class="c1"># In release mode: will continue and show confusing assertion failure messages</span>
    <span class="n">assert_str</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="s2">"Hero"</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">starts_with</span><span class="p">(</span><span class="s2">"H"</span><span class="p">)</span>
    <span class="n">assert_int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">health</span><span class="p">)</span><span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">assert_bool</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">is_alive</span><span class="p">())</span><span class="o">.</span><span class="n">is_true</span><span class="p">()</span>
</code></pre></div></div> <h3 id="example-with-fail-fast"> <a href="#example-with-fail-fast" class="anchor-heading" aria-labelledby="example-with-fail-fast"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example With Fail Fast </h3> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="nf">test_player_setup</span><span class="p">():</span>
    <span class="k">var</span> <span class="n">player</span> <span class="o">=</span> <span class="n">create_player</span><span class="p">()</span>
    
    <span class="c1"># Check critical precondition first</span>
    <span class="n">assert_object</span><span class="p">(</span><span class="n">player</span><span class="p">)</span><span class="o">.</span><span class="n">is_not_null</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
        <span class="k">return</span>
    
    <span class="c1"># Now we can safely test player properties using fluent syntax</span>
    <span class="n">assert_str</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="s2">"Hero"</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">starts_with</span><span class="p">(</span><span class="s2">"H"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
        <span class="k">return</span>
        
    <span class="n">assert_int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">health</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_equal</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_greater</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
        <span class="k">return</span>
        
    <span class="n">assert_bool</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">is_alive</span><span class="p">())</span><span class="o">.</span><span class="n">is_true</span><span class="p">()</span>
</code></pre></div></div> <h3 id="using-fail-for-complex-conditions"> <a href="#using-fail-for-complex-conditions" class="anchor-heading" aria-labelledby="using-fail-for-complex-conditions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using fail() for Complex Conditions </h3> <p>Sometimes you need to fail based on complex logic that can’t be expressed with standard assertions:</p> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="nf">test_game_state_validation</span><span class="p">():</span>
    <span class="k">var</span> <span class="n">game_state</span> <span class="o">=</span> <span class="n">get_current_game_state</span><span class="p">()</span>
    
    <span class="c1"># Complex validation that requires custom logic</span>
    <span class="k">if</span> <span class="n">game_state</span><span class="o">.</span><span class="n">level</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="ow">and</span> <span class="n">game_state</span><span class="o">.</span><span class="n">player_health</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">game_state</span><span class="o">.</span><span class="n">has_revival_item</span><span class="p">:</span>
        <span class="n">fail</span><span class="p">(</span><span class="s2">"Invalid game state: Player cannot survive level 10+ with 0 health and no revival items"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="c1"># Continue with standard assertions using fluent syntax</span>
    <span class="n">assert_that</span><span class="p">(</span><span class="n">game_state</span><span class="o">.</span><span class="n">is_valid</span><span class="p">())</span><span class="o">.</span><span class="n">is_true</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
        <span class="k">return</span>
        
    <span class="n">assert_int</span><span class="p">(</span><span class="n">game_state</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_greater_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">is_less</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span>
</code></pre></div></div> <h3 id="best-practices"> <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices </h3> <ol> <li><strong>Use fail fast for dependent assertions</strong>: When later assertions depend on earlier ones being true</li> <li><strong>Check critical preconditions first</strong>: Validate that objects exist and are in the expected state before testing their properties</li> <li><strong>Use fail() for complex conditions</strong>: When standard assertions can’t express the validation logic you need</li> <li><strong>Keep tests focused</strong>: Consider splitting complex test cases with many assertions into smaller, more focused tests</li> </ol><hr /><hr /> <h4> <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> document version v4.1.0 </h4> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2021-2024 Mike Schulze. Distributed by an <a href="https://github.com/MikeSchulze/gdUnit4/blob/master/LICENSE">MIT license.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="/gdUnit4/assets/js/tabs.js"></script> <link rel="stylesheet" href="/gdUnit4/assets/css/tab.css" /> <link rel="stylesheet" href="/gdUnit4/assets/css/site-header.css" /> </body> </html>
