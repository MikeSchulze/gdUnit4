<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/gdUnit4/assets/css/just-the-docs-default.css"> <script src="/gdUnit4/assets/js/vendor/lunr.min.js"></script> <script src="/gdUnit4/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>TestCase | GdUnit4</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="TestCase" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="TestCase" /> <meta property="og:description" content="TestCase" /> <meta property="og:site_name" content="GdUnit4" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="TestCase" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"TestCase","headline":"TestCase","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/gdUnit4/assets/images/logo.png"}},"url":"/gdUnit4/faq/test-case/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/gdUnit4/" class="site-title lh-tight"><div class="site-logo"></div> GdUnit4</a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">First Steps</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/first_steps/install/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/firstTest/" class="nav-list-link">Create Your First Test</a></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Asserts category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/asserts/index/" class="nav-list-link">Asserts</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-string/" class="nav-list-link">String Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-bool/" class="nav-list-link">Boolean Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-integer/" class="nav-list-link">Integer Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-number/" class="nav-list-link">Number Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-float/" class="nav-list-link">Float/Double Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-array/" class="nav-list-link">Array Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-dictionary/" class="nav-list-link">Dictionary Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-object/" class="nav-list-link">Object Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-vector/" class="nav-list-link">Vector Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-file/" class="nav-list-link">File Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-function/" class="nav-list-link">Function/Method Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-signal/" class="nav-list-link">Signal Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-error/" class="nav-list-link">Error Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-that/" class="nav-list-link">AssertThat</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Advanced Testing category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/advanced_testing/index/" class="nav-list-link">Advanced Testing</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/tools/" class="nav-list-link">Tools and Helpers</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/fuzzing/" class="nav-list-link">Fuzzing</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/paramerized_tests/" class="nav-list-link">Parameterized Tests</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/mock/" class="nav-list-link">Mocking</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/signals/" class="nav-list-link">Signals</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/spy/" class="nav-list-link">Spying</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/argument_matchers/" class="nav-list-link">Argument Matchers</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/sceneRunner/" class="nav-list-link">Scene Runner</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/orphan/" class="nav-list-link">Orphan Nodes</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/cmd/" class="nav-list-link">Command Line Tool</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/tutorials/index/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/tutorials/tdd/" class="nav-list-link">Test Driven Development</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/scenerunner_examples/" class="nav-list-link">Testing Scene Interactions</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/tutorial_basics/" class="nav-list-link">Basics</a></li></ul></li></ul> <div class="nav-category">FAQ</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/faq/inspector/" class="nav-list-link">Inspector</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/run-tests/" class="nav-list-link">How To Run Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/skip-tests/" class="nav-list-link">How To Skip Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/test-case/" class="nav-list-link active">TestCase</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/test-suite/" class="nav-list-link">TestSuite</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/C%23/" class="nav-list-link">C# Support</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/ci/" class="nav-list-link">Continuous Integration Testing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GdUnit4" aria-label="Search GdUnit4" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/MikeSchulze/gdUnit4" class="site-button" target="_blank" rel="noopener noreferrer" > GdUnit4 on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="testcase"> <a href="#testcase" class="anchor-heading" aria-labelledby="testcase"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> TestCase </h1> <h2 id="definition"> <a href="#definition" class="anchor-heading" aria-labelledby="definition"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Definition </h2> <p>Test cases are essential in software testing because they provide a way to ensure that the software is working as intended and meets the requirements and specifications of the project. By executing a set of test cases, testers can identify and report any defects or issues in the software, which can then be addressed by the development team.<br /> A test is defined as a function that follows the pattern <strong>test_</strong><strong><em>name</em></strong>(<em>[arguments]</em>) -&gt; <em>void</em>. The function name must start with the prefix <strong>test_</strong> to be identified as a test. You can choose any name for the <strong><em>name</em></strong> part, but it should correspond to the function being tested. Test <em>[arguments]</em> are optional and will be explained later in the advanced testing section.<br /> When naming your tests, use a descriptive name that accurately represents what the test does.</p><hr /> <h2 id="single-testcase"> <a href="#single-testcase" class="anchor-heading" aria-labelledby="single-testcase"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Single TestCase </h2> <ul class="tab" data-tab="ff820ee0-0252-424d-a1d7-97bbfab0f20e" data-name="faq-test-case-name"> <li class="active"> <a href="#">GdScript </a> </li> <li> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="ff820ee0-0252-424d-a1d7-97bbfab0f20e" data-name="faq-test-case-name"> <li class="active"> <p>To define a TestCase you have to use the prefix <code class="language-plaintext highlighter-rouge">test_</code> e.g. <code class="language-plaintext highlighter-rouge">test_verify_is_string</code><br /></p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_string_to_lower</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">assert_str</span><span class="p">(</span><span class="s2">"AbcD"</span><span class="p">.</span><span class="nf">to_lower</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"abcd"</span><span class="p">)</span>
</code></pre></div></div> <p>We named it <strong>test_<em>string_to_lower()</em></strong> because we test the <code class="language-plaintext highlighter-rouge">to_lower</code> function on a string.<br /></p> </li> <li> <p>Use the <strong>[TestCase]</strong> attribute to define a method as a TestCase.</p> <div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">TestCase</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">StringToLower</span><span class="p">()</span> <span class="p">{</span>
   <span class="nf">AssertString</span><span class="p">(</span><span class="s">"AbcD"</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">()).</span><span class="nf">IsEqual</span><span class="p">(</span><span class="s">"abcd"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <p>We named it <strong>StringToLower()</strong> because we test the <code class="language-plaintext highlighter-rouge">ToLower</code> function on a string.<br /></p> </li> </ul> <h2 id="using-parameterized-testcases"> <a href="#using-parameterized-testcases" class="anchor-heading" aria-labelledby="using-parameterized-testcases"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Using Parameterized TestCases </h2> <p>See <a href="/gdUnit4/advanced_testing/paramerized_tests/#testing-with-parameterized-testcases">Testing with Parameterized TestCases</a><br /></p> <h2 id="using-fuzzers-on-tests"> <a href="#using-fuzzers-on-tests" class="anchor-heading" aria-labelledby="using-fuzzers-on-tests"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Using Fuzzers on Tests </h2> <p>See <a href="/gdUnit4/advanced_testing/fuzzing/#testing-with-fuzzers">Testing with Fuzzers</a><br /></p> <h2 id="testcase-parameters"> <a href="#testcase-parameters" class="anchor-heading" aria-labelledby="testcase-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> TestCase parameters </h2> <p>GdUnit allows you to define additional test parameters to have more control over the test execution.</p> <ul class="tab" data-tab="6847d32b-1023-4c39-b031-1fa168178a1a" data-name="faq-test-case-attr"> <li class="active"> <a href="#">GdScript </a> </li> <li> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="6847d32b-1023-4c39-b031-1fa168178a1a" data-name="faq-test-case-attr"> <li class="active"> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>timeout</td> <td>Defines a custom timeout in milliseconds. By default, a TestCase will be interrupted after 5 minutes if the tests are not finished.</td> </tr> <tr> <td>fuzzer</td> <td>Defines a fuzzer to provide test data.</td> </tr> <tr> <td>fuzzer_iterations</td> <td>Defines the number of times a TestCase will be run using the fuzzer.</td> </tr> <tr> <td>fuzzer_seed</td> <td>Defines a seed used by the fuzzer.</td> </tr> <tr> <td>test_parameters</td> <td>Defines the TestCase dataset for parameterized tests.</td> </tr> </tbody> </table></div> </li> <li> <div class="table-wrapper"><table> <thead> <tr> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Timeout</td> <td>Defines a custom timeout in milliseconds. By default, a TestCase will be interrupted after 5 minutes if the tests are not finished.</td> </tr> <tr> <td>TestName</td> <td>Defines a custom TestCase name.</td> </tr> <tr> <td>Seed</td> <td>Defines a seed to provide test data.</td> </tr> </tbody> </table></div> </li> </ul> <h3 id="timeout"> <a href="#timeout" class="anchor-heading" aria-labelledby="timeout"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> timeout </h3> <p>The <strong>timeout</strong> paramater sets the duration in milliseconds before a test case is interrupted. By default, a test case will be interrupted after 5 minutes if it has not finished executing. You can customize the default timeout value in the <a href="/gdUnit4/first_steps/settings/#test-timeout-seconds">GdUnit Settings</a>. A test case that is interrupted by a timeout is marked and reported as a failure.</p> <ul class="tab" data-tab="aa67045a-aabd-4d86-bbf7-3ac80553e706" data-name="faq-test-case-attr-timeout"> <li class="active"> <a href="#">GdScript </a> </li> <li> <a href="#">C# </a> </li> </ul> <ul class="tab-content" id="aa67045a-aabd-4d86-bbf7-3ac80553e706" data-name="faq-test-case-attr-timeout"> <li class="active"> <p>Sets the test execution timeout to 2s.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_with_timeout</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span>
   <span class="o">...</span>
</code></pre></div></div> </li> <li> <p>Sets the test execution timeout to 2s.</p> <div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nf">TestCase</span><span class="p">(</span><span class="n">Timeout</span> <span class="p">=</span> <span class="m">2000</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">ATestWithTimeout</span><span class="p">()</span>
<span class="p">{</span>
   <span class="p">...</span>
</code></pre></div></div> </li> </ul> <h3 id="fuzzer-parameters"> <a href="#fuzzer-parameters" class="anchor-heading" aria-labelledby="fuzzer-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> fuzzer parameters </h3> <p>To learn how to use the fuzzer parameter, please refer to the <a href="/gdUnit4/advanced_testing/fuzzing/#using-fuzzers">Using Fuzzers</a> section</p> <h3 id="test_parameters"> <a href="#test_parameters" class="anchor-heading" aria-labelledby="test_parameters"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> test_parameters </h3> <p>To learn how to use paramaterized tests, please refer to the <a href="/gdUnit4/faq/test-case/#parameterized-testcases">Parameterized TestCases</a> section</p><hr /> <h2 id="how-to-fail-fast-gdscript-only"> <a href="#how-to-fail-fast-gdscript-only" class="anchor-heading" aria-labelledby="how-to-fail-fast-gdscript-only"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> How to fail fast (GdScript only) </h2> <div class="advice-header"> <img style="vertical-align:middle;" src="\gdUnit4\assets\images\icons\info-32x32.png" /> <span>Advice</span> <div class="advice-content"> Since GdScript does not have exceptions, we need to manually define an exit strategy to fail fast and avoid unnecessary test execution. </div> </div> <p>This means a TestCase can fail by one or more assertions and will not be aborted at the first failed assertion. However, to abort after the first error and fail fast, you can use the function <strong>is_failure()</strong>.</p> <p>Here’s an example:</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_foo</span><span class="p">():</span>
   <span class="c1"># do some assertions</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="s2">""</span><span class="p">).</span><span class="nf">is_empty</span><span class="p">()</span>
   <span class="c1"># last assert was succes </span>
   <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
      <span class="k">return</span>
   <span class="n">asset_str</span><span class="p">(</span><span class="s2">"abc"</span><span class="p">).</span><span class="nf">is_empty</span><span class="p">()</span>
   <span class="c1"># last assert was failure, now abort the test here</span>
   <span class="k">if</span> <span class="n">is_failure</span><span class="p">():</span>
      <span class="k">return</span>

   <span class="o">...</span>
</code></pre></div></div><hr /> <h4> <a href="#how-to-fail-fast-gdscript-only" class="anchor-heading" aria-labelledby="how-to-fail-fast-gdscript-only"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> document version v4.1.0 </h4> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2021-2023 Mike Schulze. Distributed by an <a href="https://github.com/MikeSchulze/gdUnit4/blob/master/LICENSE">MIT license.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="/gdUnit4/assets/js/tabs.js"></script> <link rel="stylesheet" href="/gdUnit4/assets/css/tab.css" /> <link rel="stylesheet" href="/gdUnit4/assets/css/site-header.css" /> </body> </html>
