<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/gdUnit4/assets/css/just-the-docs-default.css"> <script src="/gdUnit4/assets/js/vendor/lunr.min.js"></script> <script src="/gdUnit4/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Create Your First Test | GdUnit4</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Create Your First Test" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Create Your First Test" /> <meta property="og:description" content="Create Your First Test" /> <meta property="og:site_name" content="GdUnit4" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Create Your First Test" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Create Your First Test","headline":"Create Your First Test","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/gdUnit4/assets/images/logo.png"}},"url":"/gdUnit4/first_steps/firstTest/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/gdUnit4/" class="site-title lh-tight"><div class="site-logo"></div> GdUnit4</a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">First Steps</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/first_steps/install/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item"><a href="/gdUnit4/first_steps/firstTest/" class="nav-list-link active">Create Your First Test</a></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Asserts category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/asserts/index/" class="nav-list-link">Asserts</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-string/" class="nav-list-link">String Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-bool/" class="nav-list-link">Boolean Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-integer/" class="nav-list-link">Integer Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-number/" class="nav-list-link">Number Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-float/" class="nav-list-link">Float/Double Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-array/" class="nav-list-link">Array Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-dictionary/" class="nav-list-link">Dictionary Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-object/" class="nav-list-link">Object Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-vector/" class="nav-list-link">Vector Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-file/" class="nav-list-link">File Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-function/" class="nav-list-link">Function/Method Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-signal/" class="nav-list-link">Signal Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-error/" class="nav-list-link">Error Assert</a></li><li class="nav-list-item "><a href="/gdUnit4/asserts/assert-that/" class="nav-list-link">AssertThat</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Advanced Testing category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/advanced_testing/index/" class="nav-list-link">Advanced Testing</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/tools/" class="nav-list-link">Tools and Helpers</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/fuzzing/" class="nav-list-link">Fuzzing</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/paramerized_tests/" class="nav-list-link">Parameterized Tests</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/mock/" class="nav-list-link">Mocking</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/signals/" class="nav-list-link">Signals</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/spy/" class="nav-list-link">Spying</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/argument_matchers/" class="nav-list-link">Argument Matchers</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/sceneRunner/" class="nav-list-link">Scene Runner</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/orphan/" class="nav-list-link">Orphan Nodes</a></li><li class="nav-list-item "><a href="/gdUnit4/advanced_testing/cmd/" class="nav-list-link">Command Line Tool</a></li></ul></li></ul> <div class="nav-category"></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Tutorials category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/gdUnit4/tutorials/index/" class="nav-list-link">Tutorials</a><ul class="nav-list"><li class="nav-list-item "><a href="/gdUnit4/tutorials/tdd/" class="nav-list-link">Test Driven Development</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/scenerunner_examples/" class="nav-list-link">Testing Scene Interactions</a></li><li class="nav-list-item "><a href="/gdUnit4/tutorials/tutorial_basics/" class="nav-list-link">Basics</a></li></ul></li></ul> <div class="nav-category">FAQ</div> <ul class="nav-list"><li class="nav-list-item"><a href="/gdUnit4/faq/inspector/" class="nav-list-link">Inspector</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/run-tests/" class="nav-list-link">How To Run Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/skip-tests/" class="nav-list-link">How To Skip Tests</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/test-case/" class="nav-list-link">TestCase</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/test-suite/" class="nav-list-link">TestSuite</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/C%23/" class="nav-list-link">C# Support</a></li><li class="nav-list-item"><a href="/gdUnit4/faq/ci/" class="nav-list-link">Continuous Integration Testing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search GdUnit4" aria-label="Search GdUnit4" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/MikeSchulze/gdUnit4" class="site-button" target="_blank" rel="noopener noreferrer" > GdUnit4 on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="create-your-first-test"> <a href="#create-your-first-test" class="anchor-heading" aria-labelledby="create-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Create Your First Test </h1> <h2 id="before-you-start"> <a href="#before-you-start" class="anchor-heading" aria-labelledby="before-you-start"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Before You Start </h2> <p>Create a new folder called <strong>first_steps</strong> in your project’s root directory and copy the following class into it. It should be located at <code class="language-plaintext highlighter-rouge">res://first_steps/test_person.gd</code>.</p> <ul class="tab" data-tab="2b1bfe70-9ac5-4f22-adc5-b11870f2ae6b" data-name="first-step-test_class"> <li class="active"> <a href="#">test_person.gd </a> </li> </ul> <ul class="tab-content" id="2b1bfe70-9ac5-4f22-adc5-b11870f2ae6b" data-name="first-step-test_class"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">class_name</span> <span class="no">TestPerson</span>
<span class="n">extends</span> <span class="no">Node</span>

<span class="n">var</span> <span class="n">_first_name</span> <span class="ss">:String</span>
<span class="n">var</span> <span class="n">_last_name</span> <span class="ss">:String</span>

<span class="n">func</span> <span class="n">_init</span><span class="p">(</span><span class="n">first_name</span> <span class="ss">:String</span><span class="p">,</span> <span class="n">last_name</span> <span class="ss">:String</span><span class="p">):</span>
	<span class="n">_first_name</span> <span class="o">=</span> <span class="n">first_name</span>
	<span class="n">_last_name</span> <span class="o">=</span> <span class="n">last_name</span>

<span class="n">func</span> <span class="n">full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="no">String</span><span class="p">:</span>
	<span class="k">return</span> <span class="n">_first_name</span> <span class="o">+</span> <span class="s2">" "</span> <span class="o">+</span> <span class="n">_last_name</span>

</code></pre></div></div> </li> </ul> <h2 id="creating-a-test"> <a href="#creating-a-test" class="anchor-heading" aria-labelledby="creating-a-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Creating a Test </h2> <p>To create a test in GdUnit4, you can use the built-in “Create Test” function. Follow these steps:</p> <ol> <li>Open the script that you want to test.</li> <li>Right-click on the function that you want to create a test for.</li> <li>Click on “Create Test” from the context menu.</li> </ol> <p><img src="/gdUnit4/assets/images/first-steps/context-menu.png" alt="" class="centered" /></p> <p>We have selected the full_name function to generate a test for it. The test has been automatically created using the built-in <strong>Create Test</strong> function. Congratulations, you have now created your first test!<br /> More detailed information about naming conventions and the definition of test cases can be found <a href="/gdUnit4/faq/test-case/#definition">here</a></p> <p>The generated test case should look like this: <img src="/gdUnit4/assets/images/first-steps/generated-test-suite.png" alt="" class="centered" /></p> <h2 id="execute-your-test"> <a href="#execute-your-test" class="anchor-heading" aria-labelledby="execute-your-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Execute Your Test </h2> <p>After creating your first test, you can execute it by selecting it in the editor with the right mouse click and then opening the context menu to click on <strong>Run Tests</strong> or <strong>Debug Tests</strong>. <img src="/gdUnit4/assets/images/first-steps/run-selected-test-case.png" alt="" class="centered" /></p> <p>The test run is visualized in the GdUnit4 inspector, allowing you to inspect the test results. <img src="/gdUnit4/assets/images/first-steps/first-test-run-result.png" alt="" class="centered" /></p> <p>As you can see, your first test has resulted in a failure: “Test not implemented!” This is because a generated test first fails with this message since the assertion <code class="language-plaintext highlighter-rouge">assert_not_yet_implemented()</code> is used in the test by default.</p> <p>The failure report message are:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>line 13: Test not implemented!
</code></pre></div></div> <p>You can double-click on the failed test to jump directly to the test failure. <img src="/gdUnit4/assets/images/first-steps/jump-to-failure.png" alt="" class="centered" /></p> <h2 id="complete-your-first-test"> <a href="#complete-your-first-test" class="anchor-heading" aria-labelledby="complete-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Complete Your First Test </h2> <p>To complete your test, you must specify what you want to test by using assertions. GdUnit provides a large number of assert functions to compare an actual value with an expected value.</p> <p>In this case, we did a test for the function <code class="language-plaintext highlighter-rouge">full_name()</code> which has a return type of String. To verify the return value of the function, we can use the <code class="language-plaintext highlighter-rouge">assert_str()</code> function and replace the <code class="language-plaintext highlighter-rouge">assert_not_yet_implemented()</code> in our test with it:</p> <ul class="tab" data-tab="53af25ef-efbc-4f69-81c8-159cec92fe02" data-name="first-step-test_case"> <li class="active"> <a href="#">Using resource path </a> </li> <li> <a href="#">Using class name </a> </li> </ul> <ul class="tab-content" id="53af25ef-efbc-4f69-81c8-159cec92fe02" data-name="first-step-test_case"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="o">=</span> <span class="nb">load</span><span class="p">(</span><span class="s2">"res://first_steps/test_person.gd"</span><span class="p">).</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="p">:</span><span class="o">=</span> <span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <p>Now, run the test again by pressing the <strong>ReRun Debug</strong> button in the inspector.<br /> <img src="/gdUnit4/assets/images/first-steps/rerun-test.png" alt="" class="centered" /> For more details about the inspector buttons, see <a href="/gdUnit4/faq/inspector/#button-bar">Button Bar</a></p> <p>The test failure is fixed but now we get a warning!</p> <p><img src="/gdUnit4/assets/images/first-steps/rerun-test-result.png" alt="" class="centered" /></p> <p>The warning message “Detected &lt;1&gt; orphan nodes during test execution” indicates that we have forgotten to release an object. It means that we still have to release the used object (in this case, TestPerson) after the test to avoid memory leaks.</p> <p>To release objects manually, we can use the <code class="language-plaintext highlighter-rouge">free()</code> function of the object. Another way is to use the included <code class="language-plaintext highlighter-rouge">auto_free</code> tool, which automatically releases all allocated objects at the end of a test.</p> <ul class="tab" data-tab="cb05b9ce-b925-46db-9db8-9e9798f0efc0" data-name="first-step-orphan"> <li class="active"> <a href="#">free() </a> </li> <li> <a href="#">auto_free() </a> </li> </ul> <ul class="tab-content" id="cb05b9ce-b925-46db-9db8-9e9798f0efc0" data-name="first-step-orphan"> <li class="active"> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
	</span><span class="n">var</span> <span class="n">person</span> <span class="p">:</span><span class="o">=</span> <span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">)</span>
	<span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
	<span class="n">person</span><span class="p">.</span><span class="nf">free</span><span class="p">()</span>
</code></pre></div></div> </li> <li> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">test_full_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="ss">void:
   </span><span class="n">var</span> <span class="n">person</span> <span class="ss">:TestPerson</span> <span class="o">=</span> <span class="n">auto_free</span><span class="p">(</span><span class="no">TestPerson</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">"King"</span><span class="p">,</span> <span class="s2">"Arthur"</span><span class="p">))</span>
   <span class="n">assert_str</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="nf">full_name</span><span class="p">()).</span><span class="nf">is_equal</span><span class="p">(</span><span class="s2">"King Arthur"</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <p>GdUnit offers a wide range of <a href="/gdUnit4/asserts/index/">Asserts</a> for all basic built-in types and much more. A collection of tests is called a Test Suite in GdUnit.<br /> You can find more details about creating Test Suite’s <a href="/gdUnit4/faq/test-suite">here</a>.</p> <p>Now, run your test again and it should complete successfully.<br /> <img src="/gdUnit4/assets/images/first-steps/fixed-rerun-test-result.png" alt="" class="centered" /></p> <h2> <a href="#complete-your-first-test" class="anchor-heading" aria-labelledby="complete-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> Congratulations on successfully writing your first test! </h2> <hr /> <h4> <a href="#complete-your-first-test" class="anchor-heading" aria-labelledby="complete-your-first-test"><svg viewBox="0 0 16 16" aria-hidden="true"> <use xlink:href="#svg-link"></use> </svg></a> document version v4.1.0 </h4> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2021-2023 Mike Schulze. Distributed by an <a href="https://github.com/MikeSchulze/gdUnit4/blob/master/LICENSE">MIT license.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="/gdUnit4/assets/js/tabs.js"></script> <link rel="stylesheet" href="/gdUnit4/assets/css/tab.css" /> <link rel="stylesheet" href="/gdUnit4/assets/css/site-header.css" /> </body> </html>
